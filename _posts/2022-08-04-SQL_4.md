# 데이터 가져오기  



## 데이터 가져오기

### 데이터 가져오기
- SELECT : 값을 가져올 칼럼을 선택하는 키워드
- 모든쿼리에 필수 포함 키워드.

## 테이블에서 데이터 가져오기

### 테이블 지정하기
- FROM : 데이터를 가져올 테이블을 지정하는 키워드

### FROM 특징
- FROM [테이블 이름] 형식으로 사용.
- 테이블이 어떤 데이터베이스 안에 있는지 데이터베이스 이름도 같이 명시해야 함.
    - 단, USE 키워드를 통해 사용할 데이터베이스를 지정해주었다면 생략 가능함.

### SELECT 특징
- 모든 쿼리에 필수 포함 키워드.
- [활용방법]
    - 숫자, 문자 데이터를 가져올 수 있음.  
        - SELECT 데이터 형식으로 사용.  
    - 컬럼을 선택해 컬럼의 값을 가져올 수 있음.  
        - SELECT [컬럼이름]형식으로 사용.  
    - '*' (별표)를 통해 컬럼 전체를 가져올 수 있음.  
        - SELECT  * 형식으로 사용.  
        - '*' (별표)는 컬럼 전체(ALL)를 의미.  

### SELECT, FROM 문법
- 컬럼을 하나만 선택하는 경우
    - SELECT [컬럼이름]  
      FROM[데이터베이스이름].[테이블이름];
- 컬럼을 여러개 선택하는 경우
    - SELECT [컬럼이름], [컬럼이름],…[컬럼이름]  
      FROM[데이터베이스이름].[테이블이름];
- 컬럼 전체를 선택하는 경우
    - SELECT *  
      FROM[데이터베이스이름].[테이블이름];

### 데이터베이스 지정
- 데이터베이스를 지정해주지 않으면 테이블을 특정할 수 없음.
- SELECT [컬럼이름]  
FROM[데이터베이스이름].[테이블이름];
- USE [데이터베이스이름]; --데이터베이스지정  
SELECT [컬럼이름]  
FROM[테이블이름];  

    ## 별명붙이기
- AS : 가져온 데이터에 별명을 지정하는 키워드

### AS 특징
- AS [컬럼별명] 형식으로 사용.
- 테이블 내의 실제 컬럼 이름은 변하지 않으며, 별명은 쿼리 내에서만 유효.
    - 만약 실제 컬럼 이름을 변경하고 싶다면, ALTER TABLE 구문을 사용.
    
- 문법
- SELECT [컬럼이름] AS [컬럼별명]  
FROM[테이블이름];

## 데이터일부만가져오기
- __LIMIT: 가져올 데이터의 로우 개수를 지정하는 키워드__ 
- 데이터의 일부만 확인하고 싶을 때 사용

### LIMIT 특징
- LIMIT [로우수] 형식으로 사용.
- 쿼리의 가장 마지막에 위치.
- 만약 입력한 숫자가 전체 row수보다 크다면, 있는 row까지만 가져옴.

## 중복제거하기
- __DISTINCT : 중복된 데이터는 제외하고 같은 값은 한번만 가져오는 키워드__
- 컬럼에 어떤 값들이 있는지 확인하고 싶을 때 사용.

### DISTINCT 특징
- DISTINCT [컬럼이름] 형식으로 사용.
- SELECT 절에 위치하여 컬럼의 유일한 값들을 가져옴.
- ex ) SELECT <span style="color:red">DISTINCT</span> [칼럼명] FROM [테이블명];
  

FIN

----------------------------------------------------------------------------------------------------------------------------------

# 조건에 맞는 데이터 가져오기


## 조건에 맞는 데이터 가져오기
- __WHERE : 가져올 데이터의 조건을 지정해주는 키워드__

### WHERE 특징
- WHERE 조건식 형식으로 사용.
- 조건식이 True(참)이 되는 로우만 선택.

### WHERE 문법
- SELECT [컬럼이름]  
FROM[테이블이름]  
WHERE조건식;  

### 조건식
- 조건식을 작성하는 데에는 다양한 방식이 있음.
- 보통‘연산자’를 사용하여 조건식을 작성.
- 원하는 데이터의 조건이 True (참)이 되게끔 조건식을 만듬.
- MySQL에서는 True(참) 값을 1로 표현합니다. False(거짓) 값은 0으로 표현. (= 엑셀과 동일)

### 연산자종류
- 비교연산자
    -  =, >, <, ...
- 논리연산자
    - NOT, AND, OR ...
- 기타주요연산자
    - BETWEEN, IN, ...


### 비교 연산자

| 연산자 | 활용 | 의미 | 예시 |
|--|--|--|--|
| = | A = B | A와 B가 같다 | 1 = 1| 
| != | A != B | A와 B가 같지 않다 | 1 != 2
| > | A > B | A가 B보다 크다 | 10 > 1
| >= | A >= B | A가 B보다 크거나 작다 | 10 >= 10
| < | A < B | A가 B보다 작다 | 10 < 100
| <= | A <= B | A가 B보다 작거나 같다 | 10 <= 10  

### 논리 연산자

| 연산자 | 활용 | 의미 |
|--|--|--|
|AND|A AND B| A와 B 모두 True이면 True
|OR|A OR B| A와 B 둘 중 하나만 True이면 True
|NOT|NOT B| A가 아니면 True

### 기타 주요 연산자
- BETWEEN
    - 특정 범위 내의 데이터를 선택할 때 사용하는 연산자
    - [컬럼이름] BETWEEN A AND B형식으로 사용
    - 해당 컬럼 값이 A와 B사이에 포함되는 값을 가진 로우만 선택합니다. (A <=컬럼값<= B)
    - [컬럼이름] BETWEEN A AND B쿼리는A <= [컬럼이름] AND [컬럼이름] <= B와 동일
    - SELECT [컬럼이름]  
FROM[테이블이름]  
WHERE [컬럼이름] <span style="color:red">BETWEEN</span> [조건1] <span style="color:red">AND</span> [조건2];  

- IN
    - 목록내포함되는데이터를선택할때사용하는연산자
    - SELECT [컬럼이름]  
FROM[테이블이름]  
WHERE [컬럼이름] <span style="color:red">IN</span> ([조건1], [조건2], …);  
    - [컬럼이름] IN (A, B)쿼리는[컬럼이름] = A OR [컬럼이름] = B와 동일
    - 목록에 넣을 값이 여러 개일 때, OR 연산자보다 표현 및 이해가 쉬움

- LIKE
    - 특정 문자열이 포함된 데이터를 선택하는 연산자
    - [컬럼이름] LIKE [검색할문자열] 형식으로 사용
    - 해당 컬럼 값이 [검색할문자열]을 포함하고 있는 로우만 선택
    - [검색할문자열] 내에 와일드카드를 사용하여 검색 조건을 구체적으로 표현할 수 있음
    - 와일드 카드
    
        | 와일드카드 | 의미 |
        |--|--|
        |%| 0개 이상의 문자
        |_| 1개의 문자
    
    - %, _ 사용 예제  
       
        * ‘%e’(e로 끝나는 문자열)  
        e, ee, eevee, apple, pineapple  
        
        * ‘e%’(e로 시작하는 문자열)  
        e, ee, eevee, eric  
        
        * '%e%’(e가 포함된 문자열)  
        e, ee, eevee, apple, pineapple, aespa
        
        * ‘_e’(e로 끝나고 e앞에 1개의 문자가 있는 문자열)  
        ae, ee, ce
        
        * ‘%_e’(e로 끝나고 e앞에 1개 이상의 문자가 있는 문자열)  
        ee, eevee, apple, pineapple
        
        * ‘%_e_%’(e를 포함하고 e앞 뒤로 각각 1개 이상의 문자가 있는 문자열)  
        eevee, aespa
    - 문법  
        - SELECT [컬럼이름]  
FROM[테이블이름]  
WHERE [컬럼이름] <span style="color:red">__LIKE__</span> [검색할문자열];  
- IS NULL
  - 데이터가NULL인지아닌지를확인하는연산자
  - NULL
    - 데이터 값이 존재하지 않는다는 표현
    - 0이나 공백이 아닌 <span style="color:red">__알 수 없는 값__</span>을 의미
    - [컬럼이름] IS NULL 형식으로 사용
    - 해당 컬럼이 NULL이 있는 로우만 선택
    - NULL이 아닌 데이터를 검색하고 싶을 때
      - IS NOT NULL을 사용
    - [컬럼이름] = NULL or [컬럼이름] != NULL과 같은 표현은 사용하지 않음
    - 문법
      - SELECT [컬럼이름]  
FROM[테이블이름]  
WHERE [컬럼이름] IS NULL;
  







FIN

----------------------------------------------------------------------------------------------------------------------------------    
# 원하는 데이터 만들기
## 데이터 줄 세우기
- __ORDER BY : 가져온데이터를정렬해주는키워드__
### ORDER BY 특징
- ORDER BY [컬럼이름] 형식으로 사용.
- 입력한[컬럼이름]의 값을 기준으로 모든 row를 정렬.
- 기본 정렬 규칙은 오름차순.
    - ORDER BY [컬럼이름] = ORDER BY [컬럼이름] ASC
- 내림차순 정렬
  - 마지막에 DESC 키워드를 추가.
  - ORDER BY [컬럼이름] DESC
- 오름차순, 내림차순 (ASC, DESC)  
SQL 에서 ASC 는 오름차순을 의미하는 영어인 ASCENDING 의 약자, DESC 는 내림차순을 의미하는 DESCENDING의 약자.
- 여러컬럼으로 정렬도 가능, 키워드 뒤에[컬럼이름]을 복수 개 입력
  - 위치한 순서대로 정렬
  - ex) ORDER BY [컬럼1], [컬럼2]  
  ==> [컬럼1] 기준으로 정렬 후 [컬럼1] 값이 동일한 로우간에 [컬럼2] 기준으로 정렬
- 컬럼 번호로도 정렬이 가능
- 문법
  - SELECT [컬럼이름]  
FROM[테이블이름]  
WHERE조건식  
ORDER BY [컬럼이름] <span style="color:red">ASC</span>(ASC는 생략가능/내림차순 DESC는 생략불가);

## 데이터 순위 만들기
- __RANK : 데이터를 정렬해 순위를 만들어주는 함수__
- DENSE_RANK
- ROW_NUMBER
### RANK 특징
- RANK() OVER (ORDER BY [컬럼이름]) 형식
- 항상 ORDER BY와 함께 사용
- SELECT절에 사용하며, 정렬된 순서에 순위를 붙인 새로운 컬럼을 보여즘
  - __테이블의 실제 데이터에는 영향을 미치지 않음__
- 문법
  - SELECT [컬럼이름], …, __RANK() OVER (ORDER BY [컬럼이름] <span style="color:red">ASC or DESC</span>)__  
FROM[테이블이름]  
WHERE조건식;  

### 기타 랭크
- DENSE_RANK
  - 동일 순위 동일 숫자로 표시하고 겹친 숫자만큼 제외하고 아래 숫자로 랭크 표현(공동순위가 있어도 다음 순위를 뛰어 넘지 않음)
  - ex) 100 80 80 70 ==> 1 2 2 4
- ROW_NUMBER
  - 동일 순위도 행 순서에 맞추어 등급을 다르게 표시(공동순위를 무시)
  - ex) 100 80 80 70 ==> 1 2 3 4

## 문자형 데이터
- MySQL 내의 다양한 타입의 데이터는 ‘함수’를 사용하여 변형할 수 있음
### 함수
- f(x) = y
  - f : 함수 이름
  - x : input / 함수를 적용할 값 또는 칼럼 이름
  - y : output
  - ex)  
  LENGTH(“abc”) = 3
### 함수 특징
- 함수 이름(함수를 적용할 값 또는 컬럼 이름)형식으로 사용
- 결과 값을 새로운 컬럼으로 반환
-  | 함수      | 활용예시                 | 설명                                             |
    |-----------|--------------------------|--------------------------------------------------|
    | LOCATE    | LOCATE(“A”, “ABC”)       | “ABC”에서 “A”는 몇번 째에 위치해 있는지 검색해 위치반환 |
    | SUBSTRING | SUBSTRING(“ABC”, 2)      | “ABC”에서 2번째 문자부터 반환                       |
    | RIGHT     | RIGHT(“ABC”, 1)          | “ABC”에서 오른쪽에서 1번째 문자까지 반환             |
    | LEFT      | LEFT(“ABC”, 1)           | “ABC”에서 왼쪽에서 1번째 문자까지 반환               |
    | UPPER     | UPPER(“abc”)             | “abc”를 대문자로 바꿔 반환                          |
    | LOWER     | LOWER(“ABC”)             | “ABC”를 소문자로 바꿔 반환                          |
    | LENGTH    | LENGTH(“ABC”)            | “ABC”의 글자 수를 반환                              |
    | CONCAT    | CONCAT(“ABC”, “DEF”)     | “ABC” 문자열과 “CDF” 문자열을 합쳐 반환          |
    | REPLACE   | REPLACE(“ABC”, “A”, “Z”) | “ABC”의 “A”를 “Z”로 바꿔 반환                        |
    |... |...|...|

## 숫자형 데이터 
### 대표 함수
- | 함수     | 활용                  | 설명                                 |
    |----------|-----------------------|--------------------------------------|
    | ABS      | ABS(숫자)             | 숫자의 절댓값 반환                     |
    | CEILING  | CEILING(숫자)         | 숫자를 정수로 올림해서 반환             |
    | FLOOR    | FLOOR(숫자)           | 숫자를 정수로 내림해서 반환             |
    | ROUND    | ROUND(숫자,자릿수)    | 숫자를 소수점 자릿수까지 반올림해서 반환 |
    | TRUNCATE | TRUNCATE(숫자,자릿수) | 숫자를 소수점 자릿수까지 버림해서 반환   |
    | POWER    | POWER(숫자A,숫자B)    | 숫자A의 숫자B 제곱 반환                 |
    | MOD      | MOD(숫자A,숫자B)      | 숫자A를 숫자B로 나눈 나머지 반환         |
    |... |...|...|

## 날짜형데이터
### 대표 함수
- | 함수         | 활용                        | 설명                              |
    |--------------|-----------------------------|-----------------------------------|
    | NOW          | NOW()                       | 현재 날짜와 시간 반환                |
    | CURRENT_DATE | CURRENT_DATE()              | 현재 날짜 반환                      |
    | CURRENT_TIME | CURRENT_TIME()              | 현재 시간 반환                      |
    | YEAR         | YEAR(날짜)                  | 날짜의 연도 반환                    |
    | MONTH        | MONTH(날짜)                 | 날짜의 월 반환                      |
    | MONTHNAME    | MOTHNAME(날짜)              | 날짜의 월을 영어로 반환              |
    | DAYNAME      | DAYNAME(날짜)               | 날짜의 요일을 영어로 반환            |
    | DAYOFMONTH   | DAYOFMONTH(날짜)            | 날짜의 일 반환                      |
    | DAYOFWEEK    | DAYOFWEEK(날짜)             | 날짜의 요일을 숫자로 반환            |
    | WEEK         | WEEK(날짜)                  | 날짜가 해당 연도에 몇 번째 주인지 반환  |
    | HOUR         | HOUR(시간)                  | 시간의 시 반환                      |
    | MINUTE       | MINUTE(시간)                | 시간의 분 반환                      |
    | SECOND       | SECOND(시간)                | 시간의 초 반환                      |
    | DATE_FORMAT  | DATEFORMAT(날짜/시간, 형식) | 날짜/시간의 형식을 함수 내 형식으로 바꿔 반환 |
    | DATEDIFF     | DATEDIFF(날짜1,날짜2)       | 날짜1과 날짜 2의 차이 반환(날짜1-날짜2)      |
    | TIMEDIFF     | TIMEDIFF(시간,1시간2)       | 시간1과 시간2의 차이 반환(시간1-시간2)      |
    |... |...|...|
- 문법
  - SELECT NOW();
  - CURRENT_DATE();
  - SELECT DATE_FORMAT('1996-11-06 17:34:58', '%Y년%m월%d일%H시%i분%s초') AS formatted_date;
- DATE_FORMAT 함수
    - | 표현 |                    설명                    | 표현 |                         설명                         |
        |:----:|:------------------------------------------:|:----:|:----------------------------------------------------:|
        |  %a  |      요일을영문약어으로표현(Sun..Sat)      |  %p  |                    AM또는PM를표현                    |
        |  %b  |        월을영문약어로표현(Jan..Dec)        |  %r  |       시간을AM또는PM과함께표현(hh:mm:ssAMorPM)       |
        |  %c  |            월을숫자로표현(0..12)           |  %S  |                   초를표현(00..59)                   |
        |  %D  |         일을숫자와영문으로표현(0th,        | 1st, |            2nd,3rd,...)%s초를표현(00..59)            |
        |  %d  |      일을항상숫자두글자로표현(00..31)      |  %T  |            시간을24시간으로표현(hh:mm:ss)            |
        |  %e  |               일을표현(0..31)              |  %U  | 1년중몇번째주인지를표현(한주가일요일부터시작,00..53) |
        |  %f  |      마이크로초를표현(000000..999999)      |  %u  | 1년중몇번째주인지를표현(한주가월요일부터시작,00..53) |
        |  %H  |         시를24시간으로표현(00..23)         |  %V  | 1년중몇번째주인지를표현(한주가일요일부터시작,00..53) |
        |  %h  | 시를12시간으로항상숫자두글자로표현(01..12) |  %v  | 1년중몇번째주인지를표현(한주가월요일부터시작,00..53) |
        |  %l  |          시를12시간으로표현(1..12)         |  %W  |         요일을영문으로표현(Sunday..Saturday)         |
        |  %i  |              분을표현(00..59)              |  %w  |        요일을숫자로표현(0=Sunday..6=Saturday)        |
        |  %j  |       1년중몇번째날인지표현(001..366)      |  %X  |   주가속한연도를네글자로표현(한주가일요일부터시작)   |
        |  %k  |          시를24시간으로표현(0..23)         |  %x  |   주가속한연도를네글자로표현(한주가월요일부터시작)   |
        |  %l  |          시를12시간으로표현(1..12)         |  %Y  |            연도를네글자로표현(0000..9999)            |
        |  %M  |     월을영문으로표현(January..December)    |  %y  |               연도를두글자로표현(00,99)              |
        |  %m  |              월을표현(00..12)              |  %%  |                       글자'%'.                       |
        








































